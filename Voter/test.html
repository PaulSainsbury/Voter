<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <script src="Scripts/jquery-1.6.4.min.js" type="text/javascript"></script>
    <script src="Scripts/knockout-2.1.0.js" type="text/javascript"></script>
    <script src="Scripts/jquery.signalR-0.5.0.min.js" type="text/javascript"></script>
    <script src="signalr/hubs" type="text/javascript"></script>
    <script type="text/javascript">
        $(function () {
            var hub = $.connection.vote;
            hub.updateVotes = function (value) {
                console.log(value);
                $("#lblResult").html(value);
            };
            $.connection.hub.start();

            $("#btnSubmit").click(function () {
                var vote = $("#vote").val();
                hub.setVote(vote * 1);
            });
            $("#btnReset").click(function () {
                hub.resetVotes();
            });
        });
    </script>
</head>
<body>
Your vote: <input type="text" id="vote" />
<input type="button" value="Submit" id="btnSubmit" />
<input type="button" value="Reset" id="btnReset" />
<div id="lblResult"></div>
</body>
</html>
